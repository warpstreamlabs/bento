---
title: zmq4n
slug: zmq4n
type: output
status: stable
categories: ["Network"]
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Writes messages to a ZeroMQ socket.


<Tabs defaultValue="common" values={[
  { label: 'Common', value: 'common', },
  { label: 'Advanced', value: 'advanced', },
]}>

<TabItem value="common">

```yml
# Common config fields, showing default values
output:
  label: ""
  zmq4n:
    urls: [] # No default (required)
    bind: true
    socket_type: "" # No default (required)
```

</TabItem>
<TabItem value="advanced">

```yml
# All config fields, showing default values
output:
  label: ""
  zmq4n:
    urls: [] # No default (required)
    bind: true
    socket_type: "" # No default (required)
    high_water_mark: 0
    poll_timeout: 5s
    socket_auto_reconnect: true
    dial_retry_delay: 250ms
    dial_timeout: 5m
    dial_max_retries: 10
```

</TabItem>
</Tabs>


This is a native Go implementation of ZeroMQ using the go-zeromq/zmq4 library. ZMTP protocol is not supported.
There is a specific docker tag postfix `-cgo` for C builds containing the original zmq4 component.

## Fields

### `urls`

A list of URLs to connect to. If an item of the list contains commas it will be expanded into multiple URLs.


Type: `array`  

```yml
# Examples

urls:
  - tcp://localhost:5556
```

### `bind`

Whether to bind to the specified URLs (otherwise they are connected to).


Type: `bool`  
Default: `true`  

### `socket_type`

The socket type to connect as.


Type: `string`  
Options: `PUSH`, `PUB`.

### `high_water_mark`

The message high water mark to use. (experimental i go-zeromq)


Type: `int`  
Default: `0`  

### `poll_timeout`

The poll timeout to use.


Type: `string`  
Default: `"5s"`  

### `socket_auto_reconnect`

Whether to automatically attempt internal reconnection on connection loss.
:::warning Important
Since this is an internal retry, the zmq4n component will silently attempt reconnection until failure. This means that while retrying, no metric will indicate the component is in a retrying state until attempts have been exhausted.
:::


Type: `bool`  
Default: `true`  

### `dial_retry_delay`

The time to wait between failed dial attempts.


Type: `string`  
Default: `"250ms"`  

### `dial_timeout`

The maximum time to wait for a dial to complete.


Type: `string`  
Default: `"5m"`  

### `dial_max_retries`

The maximum number of dial retries (-1 for infinite retries).


Type: `int`  
Default: `10`  


